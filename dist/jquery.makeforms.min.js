/*! makeforms - v0.0.1 - 2013-10-07
* https://github.com/lambda2/MakeForms
* Copyright (c) 2013 Andr√© Aubin; Licensed Apache 2 */
(function(e){e.fn.makeForms=function(t){var n,o,a,i,p,l,r,s,u;t=e.extend({components:{},groupSize:4,selectMinSize:18,templates:{}},t),t.templates=e.extend({item:"{{item}}",title:"<p>{{title}}</p>",group:"{{group}}",label:'<label for="{{id}}">{{label}}</label>',radio:'<input type="radio" name="{{name}}"                id="{{id}}" value="{{value}}">',text:'<input type="text" name="{{name}}"	id="{{id}}" value="{{value}}">',input:'<input type="{{type}}" name="{{name}}"	id="{{id}}" value="{{value}}">',select:'<select id="{{id}}" name="{{name}}">{{options}}</select>',option:'<option id="{{id}}" value="{{value}}">{{label}}</option>'},t.templates);var m=function(e,t){var n,o;n=e;for(o in t)-1!==n.search("{{"+o+"}}")&&t.hasOwnProperty(o)&&(n=n.replace("{{"+o+"}}",t[o]),n=m(n,t));return n},c=function(e){var t,n;t=0;for(n in e)t+=1;return t},d=function(e){var n,o;return e.hasOwnProperty("type")?n=e.type:(o=c(e.choices),n=1>=o?"text":t.selectMinSize>o?"radio":"option"),n};p=[],l=[],r=c(t.components),i=e(this),a=0;for(n in t.components){var v,h,y,f,b,g;g="",u="",v=n,h=t.components[n].label,y=d(t.components[n]),f=t.templates[y],u=t.templates.group,t.components[n].hasOwnProperty("title")&&(b=m(t.templates.title,{title:t.components[n].title}),p.push(b)),a+=1;for(o in t.components[n].choices){var w,z,O,P,S,x;w=t.components[n].choices[o],x=w.hasOwnProperty("type")?t.templates[w.type]:f,z=v+"_"+o,O=t.templates.label,P="option"!==y&&"radio"!==y?m(O,{label:w.label,id:z}):"",w.hasOwnProperty("value")||(w.value=o),S=m(x,{name:v,id:z,value:w.value,label:w.label}),w.hasOwnProperty("before")&&(S=w.before+S),w.hasOwnProperty("after")&&(S+=w.after),g=g+P+S}"option"===y&&(g=m(t.templates.select,{name:v,id:v,options:g})),p.push(g),g="",0===t.groupSize||0!==a%t.groupSize&&a!==r||(s=m(u,{group:p.join("\n")}),l.push(s),t.groupSize>0&&(p=[]))}return 0===t.groupSize&&(s=m(u,{group:p.join("\n")}),l.push(s)),i.html(l.join("\n")),this}})(jQuery);